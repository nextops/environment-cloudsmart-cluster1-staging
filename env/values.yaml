PipelineSecrets: {}
application-root:
  ingress:
    annotations:
      kubernetes.io/ingress.class: nginx
      kubernetes.io/tls-acme: "true"
    host: jx-staging.ci.cloudsmart.io
    tls:
      secretname: tls-ci-cloudsmart-io-p
    paths:
    - backend:
        serviceName: agile-project-manager-frontend
        servicePort: 80
      path: /()(assets/apm.*)
    - backend:
        serviceName: jx-dex
        servicePort: 32000
      path: /()(dex.*)
    - backend:
        serviceName: agile-project-manager
        servicePort: 80
      path: /(api)/(projects.*)
    - backend:
        serviceName: agile-project-manager
        servicePort: 80
      path: /(api)/(issues.*)
    - backend:
        serviceName: agile-project-manager
        servicePort: 80
      path: /(api)/(pulls.*)
    - backend:
        serviceName: agile-project-manager
        servicePort: 80
      path: /(api)/(sprints.*)
    - backend:
        serviceName: authservice
        servicePort: 80
      path: /(api)/(auth.*)
    - backend:
        serviceName: userservice
        servicePort: 80
      path: /(api)/(user.*)
    - backend:
        serviceName: comments-service
        servicePort: 80
      path: /(api)/(topics.*)
    - backend:
        serviceName: notifications-service
        servicePort: 80
      path: /(api)/(notifications.*)
    - backend:
        serviceName: application-root
        servicePort: 80
      path: /()(.*)
cleanup:
  Annotations:
    helm.sh/hook: pre-delete
    helm.sh/hook-delete-policy: hook-succeeded
  Args:
  - --cleanup
comments-service-mongodb:
  mongodbSystemLogVerbosity: 1
  usePassword: false
dex:
  config:
    connectors:
    - config:
        clientID: vault:cloudsmart-cluster1/github-oauth:clientID
        clientSecret: vault:cloudsmart-cluster1/github-oauth:clientSecret
        getUserInfo: true
        redirectURI: https://jx-staging.ci.cloudsmart.io/dex/callback
        scopes:
        - openid
        - email
        - profile
        - groups
        - federated:id
      id: github
      name: github
      type: github
    enablePasswordDB: false
    issuer: https://jx-staging.ci.cloudsmart.io/dex
    logger:
      level: debug
    oauth2:
      alwaysShowLoginScreen: false
      skipApprovalScreen: true
    staticClients:
    - id: authservice
      name: Auth Service
      redirectURIs:
      - https://jx-staging.ci.cloudsmart.io/auth/callback
      secret: vault:cloudsmart-cluster1/authservice:secret
    storage:
      config:
        inCluster: true
      type: kubernetes
    web:
      address: 0.0.0.0
  grpc: false
  https: false
  image: quay.io/dexidp/dex
  imageTag: v2.21.0
  ingress:
    annotations:
      kubernetes.io/ingress.class: nginx
    enabled: true
    path: /dex
    tls: []
  ports:
    web:
      containerPort: 5556
      nodePort: 32000
      servicePort: 32000
  replicas: 1
  service:
    annotations: {}
    type: ClusterIP
expose:
  config:
    domain: ci.cloudsmart.io
    exposer: Ingress
    http: "false"
    tlsSecretName: tls-ci-cloudsmart-io-p
    tlsacme: "true"
    urltemplate: '{{.Namespace}}.{{.Domain}}'
  production: true
jenkins:
  Servers:
    Global: {}
notifications-service-mongodb:
  mongodbSystemLogVerbosity: 1
  usePassword: false
prow: {}
userservice-mongodb:
  mongodbSystemLogVerbosity: 1
  usePassword: false
gitprovider-sync-agent-mongodb:
  mongodbSystemLogVerbosity: 1
  usePassword: false
apm-mongodb-ha:
  replicas: 3
  auth:
    enabled: false
